/*
 * Copyright 2010-2014 icl-network.com. All rights reserved.
 * Support: http://www.icl-network.com
 *
 * JavaScript - Bank Card Modif
 * Version: 3.0
 */
$().ready(function() {
    
	var $inputForm = $("#inputForm");
	var $bank = $("#bank");
	$inputForm.find(":submit").prop("disabled", false);
	var $validate = $inputForm.validate({
		rules: {
			bankId: "required",
			card: {
				required: true,
				digits: true,
				remote: {
					url: "/SHS/admin/bank_card_modif/check_card",
					data: {previousCard: previousCard},
					type: "post",
					cache: false
				}
			},
			opinion: "required"
		},
		messages: {
			card: {
				remote: "已存在"
			}
		}
	});
	
	$("#bank").selectBind({
		url: "/SHS/admin/bank_branch/jsons",
		choose: "-",
		target: $("#branch")
	});
	
	$("input.selectSascade.area").selectSascade({
		url: "/SHS/admin/area/jsons",
		choose: "-",
		changed: true
	});
	
	$bank.change(function(){
		$validate.element(this);
	});
	
});
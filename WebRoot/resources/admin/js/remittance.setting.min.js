/*
 * Copyright 2010-2013 icl-network.com. All rights reserved.
 * Support: http://www.icl-network.com
 *
 * JavaScript - Remittance Setting
 * Version: 3.0
 */

$().ready(function() {

		$.validator.addMethod("compareAmount", 
		function(value, element, param) {
			return this.optional(element) || $.trim(value) == "" || $.trim($(param).val()) == "" || parseFloat(value) >= parseFloat($(param).val());
		},
		"必须大于或等于最低额度"
	);

	var $inputForm = $("#inputForm");
	$inputForm.find(":submit").prop("disabled", false);
	$inputForm.validate({
		rules: {
			paymentName: "required",
			logoFile: {
				extension: "jpg,jpeg,bmp,gif,png"
			},
			bank: "required",
			openingBank: "required",
			account: {
				required: true,
				digits: true,
				minlength: 12,
				maxlength: 19
			},
			accountName: "required",
			minimum: {
				positive: true,
				decimal: {
					integer: 12,
					fraction: 2
				}
			},
			maximum: {
				positive: true,
				decimal: {
					integer: 12,
					fraction: 2
				},
				compareAmount: "#minimum"
			},
			fee: {
				required: true,
				min: 0,
				decimal: {
					integer: 19,
					fraction: 2
				}
			},
			handleTime: "required",
			order: "digits"
		}
	});
	
});